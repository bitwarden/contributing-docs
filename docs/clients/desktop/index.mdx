---
sidebar_position: 4
---

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";

# Desktop

## Requirements

Before you start, you must complete the [Clients repository setup instructions](../../clients.md).

<Tabs groupId="os">
<TabItem value="win" label="Windows" default>

These are available as additional dependencies in the Visual Studio Installer.

- Visual C++ Build tools
- [Rust](https://www.rust-lang.org/tools/install)

</TabItem>
<TabItem value="mac" label="macOS">

- Xcode Command Line Tools
- [Rust](https://www.rust-lang.org/tools/install)

</TabItem>
<TabItem value="lin" label="Linux">

- The following packages
  - `build-essential`
  - `libsecret-1-dev`
  - `libglib2.0-dev`
- [Rust](https://www.rust-lang.org/tools/install)

</TabItem>
</Tabs>

## Build native module

The desktop application relies on a native module written in rust, which needs to be compiled
separately. This is baked in to the build process for `npm run electron`, but you can also compile
it manually.

```bash
cd apps/desktop/desktop_native
npm run build
```

**Note**: This module needs to be re-built if the native code has changed.

## Build Instructions

Build and run:

```bash
cd apps/desktop
npm run electron
```

## Debugging and Testing

Electron apps have a renderer process, which runs in the Electron window, and the main process,
which runs in the background.

The renderer process can be inspected using the Chromium debugger. It should open automatically when
the Desktop app opens, or you can open it from the “View” menu.

The main process can be debugged by running the app from a
[Javascript Debug Terminal](https://code.visualstudio.com/docs/nodejs/nodejs-debugging#_javascript-debug-terminal)
in Visual Studio Code and then placing breakpoints in `build/main.js`.

## Biometric Unlock (Native Messaging)

Instructions for configuring native messaging (communication between the desktop application and
browser extension) are located [in the Browser section](../browser/biometric.mdx).

# Troubleshooting

## Trouble building

If you see an error like this:

```bash
[Main] Error: Cannot find module '@bitwarden/desktop-native-darwin-arm64'
```

You likely haven't built the native module, refer to [Build Native Module](#build-native-module).
