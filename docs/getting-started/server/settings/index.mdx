# Settings

There are a large number of settings available to customize the behavior of the various server
projects. These settings are applied through
[Microsoft's configuration providers](https://learn.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-8.0).
Most common are the various `appSettings.json` files, [user secrets](../secrets/index.md), and
environment variables.

Each heading level is a settings namespace or setting itself. For example
`iconSettings__cacheEnabled` corresponds to [Icon Settings -> CacheEnabled](#cacheenabled)

import TOCInline from "@theme/TOCInline";

<TOCInline toc={toc} />

## root

These are settings without a parent namespace

### DevelopSelfHosted

<ServerSettingInfo
  type="Boolean"
  defaultValue="False"
  fullName="developSelfHosted"
  relevantProjects="Any using global settings"
/>

Turns on [self host override settings](#selfhostoverride).

## Global Settings

Settings for the Core Bitwarden Project. Not all settings are relevant for all projects.

### SelfHosted

<ServerSettingInfo
  type="Boolean"
  defaultValue="False"
  fullName="globalSettings__selfHosted"
  relevantProjects={[
    "Admin",
    "API",
    "Billing",
    "Core",
    "Events",
    "EventsProcessor",
    "Icons",
    "Identity",
    "Notifications",
    "SCIM",
    "SharedWeb",
    "SSO",
  ]}
/>

Indicates that a server instance is self hosted. This is used all over the place to swap out
services and set expectations.

### UnifiedDeployment

<ServerSettingInfo
  type="Boolean"
  defaultValue="False"
  fullName="globalSettings__unifiedDeployment"
  relevantProjects={["SharedWeb"]}
/>

Indicates that a server instance is hosted through the unified docker deployment method. Currently,
this is used only while setting up nginx trusted reverse proxies. See
[KnownProxies](https://learn.microsoft.com/en-us/dotnet/api/microsoft.aspnetcore.builder.forwardedheadersoptions.knownproxies?view=aspnetcore-8.0#microsoft-aspnetcore-builder-forwardedheadersoptions-knownproxies)

### KnownProxies

<ServerSettingInfo
  type="String"
  defaultValue='""'
  fullName="globalSettings__knownProxies"
  relevantProjects={["SharedWeb"]}
/>

A `,` delineated list of reverse proxies to trust. See
[KnownProxies](https://learn.microsoft.com/en-us/dotnet/api/microsoft.aspnetcore.builder.forwardedheadersoptions.knownproxies?view=aspnetcore-8.0#microsoft-aspnetcore-builder-forwardedheadersoptions-knownproxies)

### SiteName

<ServerSettingInfo
  type="String"
  defaultValue='""'
  fullName="globalSettings__siteName"
  relevantProjects="Any using Mail or Logging"
/>

Specifies the name of the hosted website in emails and logging.

### ProjectName

<ServerSettingInfo
  type="String"
  defaultValue='""'
  fullName="globalSettings__projectName"
  relevantProjects="Any using Mail, Logging, Feature Flags, or Service Bus"
/>

This value is used all over the place to specify the exact project being run. Useful for things like
providing context in feature flags, or getting default values for service bus subscriptions in our

### LogDirectory

<ServerSettingInfo
  type="String"
  defaultValue={[
    ["cloud", "null"],
    ["selfhost", "etc/bitwarden/logs"],
  ]}
  fullName="globalSettings__logDirectory"
  relevantProjects="Any using Logging"
/>

Sets local filesystem logging directory. This value is only used if [Sentry.Dsn](#sentry) and
[Syslog.Destination](#destination) are null.

### LogDirectoryByProject

<ServerSettingInfo
  type="Boolean"
  defaultValue="True"
  fullName="globalSettings__logDirectoryByProject"
  relevantProjects="Any using Logging"
/>

Splits logs into multiple files per project. The name of the project's log file is given by
[project name](#projectname). This value is only relevant if [LogDirectory](#logdirectory) is being
used.

### LogRollBySizeLimit

<ServerSettingInfo
  type="nullable long"
  defaultValue="null"
  fullName="globalSettings__logRollBySizeLimit"
  relevantProjects="Any using Logging"
/>

Sets the size limit for log files. A new log file will be rolled into when the size limit is
reached. If null, rolls log files by date. This value is only relevant if
[LogDirectory](#logdirectory) is being used.

### EnableDevLogging

<ServerSettingInfo
  type="Boolean"
  defaultValue="False"
  fullName="globalSettings__enableDevLogging"
  relevantProjects="Any using Logging"
/>

Bypasses log filters used to ensure secrets are not persisted in logs. Only respected if the hosting
environment is development.

### LicenseDirectory

<ServerSettingInfo
  type="String"
  defaultValue="/etc/bitwarden/core/licenses"
  fullName="globalSettings__licenseDirectory"
  relevantProjects={["All"]}
  environments={["selfhost"]}
/>

Sets the directory to look for organization licenses in for self hosted environments.

## Dev

Settings namespace for development environments.

### selfHostOverride

This namespace allows a single user secrets file to be used for developing both cloud and selfhosted
servers with differing configurations between the two server instances.

The [Global Settings](#global-settings) namespace is repeated here. Any value that is set there is
overridden by the corresponding value in `selfHostOverride` _iff_ in a dev environment _AND_
[develop self hosted](#developselfhosted) is `True` _AND_ the setting in question exists in the
`selfHostOverride` namespace.

## Billing Settings

:::note

TODO

:::

## Ip Rate Limiting

<ServerSettingInfo relevantProjects={["Identity", "Api"]} />

:::note

TODO

:::

## Icons Settings

<ServerSettingInfo relevantProjects={["Icons"]} />

Settings for the Icons service, which provides a proxy for downloading website favicons. These
settings are all related to caching icons.

:::info

Only favicons 50 kilobytes or less in size are cached. Failures to pull a favicon are also cached.

:::

### CacheEnabled

<ServerSettingInfo
  type="Boolean"
  defaultValue="False"
  fullName="iconSettings__cacheEnabled"
  relevantProjects={["Icons"]}
/>

Controls whether a cache will be used.

### CacheHours

<ServerSettingInfo
  type="int"
  defaultValue="0"
  fullName="iconSettings__cacheHours"
  relevantProjects={["Icons"]}
/>

Controls how long icons are cached for.

### CacheSizeLimit

<ServerSettingInfo
  type="nullable long"
  defaultValue="null"
  fullName="iconSettings__cacheSizeLimit"
  relevantProjects={["Icons"]}
/>

Limits the total size of the
[`MemCache`](https://learn.microsoft.com/en-us/dotnet/api/system.runtime.caching.memorycache?view=net-8.0)
backing the icon cache. Size is specified in bytes.
